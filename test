local UILibrary = {}

function UILibrary:CreateWindow(title)
    -- Criando o ScreenGui e Frame principal
    local screenGui = Instance.new("ScreenGui")
    local mainFrame = Instance.new("Frame")
    local closeButton = Instance.new("TextButton")

    -- Configurações do ScreenGui
    screenGui.Name = "CustomUI"
    screenGui.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
    screenGui.ResetOnSpawn = false

    -- Configurações do Frame principal
    mainFrame.Name = "MainFrame"
    mainFrame.Parent = screenGui
    mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    mainFrame.Size = UDim2.new(0, 300, 0, 200)
    mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
    mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    mainFrame.Active = true
    mainFrame.Draggable = true -- Permite arrastar a janela

    -- Configuração do botão de fechar
    closeButton.Name = "CloseButton"
    closeButton.Parent = mainFrame
    closeButton.Text = "X"
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Position = UDim2.new(1, -35, 0, 5) -- No canto superior direito
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.Font = Enum.Font.SourceSans
    closeButton.TextSize = 18

    -- Função para fechar a janela
    closeButton.MouseButton1Click:Connect(function()
        screenGui:Destroy() -- Remove o ScreenGui
    end)

    return {frame = mainFrame}
end

function UILibrary:CreateButton(parent, buttonText, callback)
    local button = Instance.new("TextButton")

    button.Parent = parent
    button.Text = buttonText
    button.Size = UDim2.new(0, 200, 0, 50)
    button.Position = UDim2.new(0.5, -100, 0.5, -25)
    button.AnchorPoint = Vector2.new(0.5, 0.5)
    button.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Font = Enum.Font.SourceSans
    button.TextSize = 18

    button.MouseButton1Click:Connect(function()
        callback() -- Executa a função de callback passada
    end)
end

return UILibrary
